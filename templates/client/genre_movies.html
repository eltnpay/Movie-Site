{% extends 'client/base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/genre_movies.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="movies-section fade-in-up">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∂–∞–Ω—Ä–∞ -->
        <div class="page-header">
            <h1 class="section-title">–§–∏–ª—å–º—ã –∂–∞–Ω—Ä–∞: <span class="genre-name">{{ genre.genre }}</span></h1>
            <div class="results-info">
                –ù–∞–π–¥–µ–Ω–æ —Ñ–∏–ª—å–º–æ–≤: <span id="moviesCount">{{ movies|length }}</span>
            </div>
        </div>

        {% if movies %}
            <!-- –°–µ—Ç–∫–∞ —Ñ–∏–ª—å–º–æ–≤ -->
            <div class="movies-grid">
                {% for movie in movies %}
                    <a href="{% url 'movie_detail' slug=movie.slug %}" class="movie-card card fade-in-up" data-movie-id="{{ movie.id }}">
                        <img class="movie-poster" data-src="{{ movie.image.url }}" alt="{{ movie.title }}" loading="lazy">
                        <div class="movie-overlay">
                            <div class="overlay-content">
                                <span class="watch-icon">‚ñ∂</span>
                            </div>
                            <h2 class="movie-title">{{ movie.title }}</h2>
                            <div class="movie-meta">
                                <span class="movie-year">{{ movie.year }}</span>
                                {% if movie.age %}
                                    <span class="movie-age">{{ movie.age }}</span>
                                {% endif %}
                            </div>
                            <div class="movie-genres">
                                {% for g in movie.genres.all %}
                                    <span class="genre-tag">{{ g.genre }}</span>
                                {% endfor %}
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ -->
            <div class="back-navigation">
                <a href="javascript:history.back()" class="btn-back">
                    <i class="fas fa-arrow-left"></i>
                    <span>–ù–∞–∑–∞–¥</span>
                </a>
                <a href="{% url 'home' %}" class="btn-home">
                    <i class="fas fa-home"></i>
                    <span>–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
                </a>
            </div>
        {% else %}
            <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
            <div class="no-results">
                <div class="empty-icon">üé¨</div>
                <h3>–í —ç—Ç–æ–º –∂–∞–Ω—Ä–µ –ø–æ–∫–∞ –Ω–µ—Ç —Ñ–∏–ª—å–º–æ–≤</h3>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –∂–∞–Ω—Ä –∏–ª–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
                <div class="empty-actions">
                    <a href="javascript:history.back()" class="btn-back-empty">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </a>
                    <a href="{% url 'home' %}" class="btn-home-empty">
                        <i class="fas fa-home"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" -->
<button id="scrollToTop" class="scroll-to-top" aria-label="–ù–∞–≤–µ—Ä—Ö">
    <i class="fas fa-arrow-up"></i>
</button>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/genre_movies.js' %}"></script>
{% endblock %}